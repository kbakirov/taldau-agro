"""
–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏: Smart Governance –∏ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç
–ö–µ–π—Å: –ê—Ä—à–∞–ª—ã–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω –ê–∫–º–æ–ª–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏

–î–∞—à–±–æ—Ä–¥ –¥–ª—è V –ø–æ—Ç–æ–∫–∞ ¬´–¢–∞–ª–¥–∞—É –º–µ–∫—Ç–µ–±—ñ - –®–∫–æ–ª–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏¬ª
"""

import streamlit as st
import pandas as pd
import plotly.express as px
import plotly.graph_objects as go
from plotly.subplots import make_subplots
import numpy as np

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
st.set_page_config(
    page_title="–ê—Ä—à–∞–ª—ã: –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏",
    page_icon="üåæ",
    layout="wide",
    initial_sidebar_state="expanded"
)

# –°—Ç–∏–ª–∏
st.markdown("""
<style>
    .main-header {
        font-size: 2.5rem;
        font-weight: bold;
        color: #1E3A5F;
        text-align: center;
        margin-bottom: 0.5rem;
    }
    .sub-header {
        font-size: 1.2rem;
        color: #666;
        text-align: center;
        margin-bottom: 2rem;
    }
    .metric-card {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 1.5rem;
        border-radius: 10px;
        color: white;
        text-align: center;
    }
    .metric-value {
        font-size: 2rem;
        font-weight: bold;
    }
    .metric-label {
        font-size: 0.9rem;
        opacity: 0.9;
    }
    .insight-box {
        background-color: #f0f7ff;
        border-left: 4px solid #1E3A5F;
        padding: 1rem;
        margin: 1rem 0;
        border-radius: 0 8px 8px 0;
    }
    .warning-box {
        background-color: #fef3cd;
        border-left: 5px solid #d69e00;
        padding: 1.2rem;
        margin: 1rem 0;
        border-radius: 0 8px 8px 0;
        color: #664d03;
    }
    .warning-box h4 {
        color: #664d03;
        margin-bottom: 0.8rem;
    }
    .warning-box p, .warning-box li {
        color: #664d03;
        font-size: 0.95rem;
    }
    .warning-box b {
        color: #523e02;
    }
    .estimate-note {
        background-color: #e7f3ff;
        border: 1px dashed #0066cc;
        padding: 0.5rem;
        border-radius: 5px;
        font-size: 0.8rem;
        color: #004085;
        margin-top: 0.8rem;
    }
</style>
""", unsafe_allow_html=True)

# ==================== –î–ê–ù–ù–´–ï ====================

@st.cache_data
def load_district_profile():
    """–ë–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Ä–∞–π–æ–Ω–∞ –∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞"""
    return {
        "name": "–ê—Ä—à–∞–ª—ã–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω",
        "region": "–ê–∫–º–æ–ª–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
        "area_km2": 5800,
        "area_ha": 584786,
        "population": 33363,
        "distance_to_astana": 71,
        "agricultural_land_ha": 519400,
        "arable_land_ha": 238500,
        "pastures_ha": 275300,
        "cattle": 16695,
        "sheep_goats": 154784,
        "horses": 9517,
        "pigs": 4300,
        "industrial_enterprises": 28,
        "rural_districts": 12,
        "settlements": 1,
    }

@st.cache_data
def load_subsidies_data():
    """–î–∞–Ω–Ω—ã–µ –ø–æ —Å—É–±—Å–∏–¥–∏—è–º - –†–ï–ê–õ–¨–ù–´–ï –∏–∑ –ê—Ä—à–∞–ª—ã–Ω—Å–∫–∏–∏__2025_.xlsx"""
    # –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞ (—Ç–æ–ø –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π)
    subsidies_2025 = pd.DataFrame({
        '–ü–æ–ª—É—á–∞—Ç–µ–ª—å': [
            '–¢–û–û "–ê–ì–†–û –ü–†–ï–°–¢–ò–ñ –ú"', 
            '–ö–• "–ê—Ä–∞–π"', 
            '–¢–û–û "–ö–û–ô–ì–ï–õ–¨–î–´-–ê–°–¢–´–ö"',
            '–ü–ö "–ò–ñ–ï–í–°–ö–ò–ô"',
            '–¢–û–û "–†–ê–•–ê–¢"',
            '–ö–• "–ê–π—Ç–ø–∞–π" (–ò–≤—á–µ–Ω–∫–æ –í.–ê.)',
            '–¢–û–û "BersuatAgroPro"',
            '–ö/–• "–ê–°–ï–¢"',
            '–ò–ü "–°–£–†–ê–ï–í –Æ.–í."',
            '–ò–ü "–ò—Å–∫–∞–∫–æ–≤–∞ –ù.–ñ."'
        ],
        '–°—É–º–º–∞_—Ç–≥': [
            91558200, 41670000, 41670000, 32277900, 20655000,
            7374000, 3579677, 7593600, 3900000, 2910000
        ],
        '–¢–∏–ø': ['–¢–û–û', '–ö–•', '–¢–û–û', '–ü–ö', '–¢–û–û', '–ö–•', '–¢–û–û', '–ö–•', '–ò–ü', '–ò–ü'],
        '–ü—Ä–æ–≥—Ä–∞–º–º–∞': [
            '–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏', '–°–µ–º–µ–Ω–æ–≤–æ–¥—Å—Ç–≤–æ', '–°–µ–º–µ–Ω–æ–≤–æ–¥—Å—Ç–≤–æ', '–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏', '–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏',
            '–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏', '–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏', '–°–µ–º–µ–Ω–æ–≤–æ–¥—Å—Ç–≤–æ', '–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏', '–ü–µ—Å—Ç–∏—Ü–∏–¥—ã'
        ]
    })
    return subsidies_2025

# –û–±—â–∏–µ –∏—Ç–æ–≥–∏ —Å—É–±—Å–∏–¥–∏–π (–∏–∑ —Ñ–∞–π–ª–∞)
SUBSIDIES_TOTALS = {
    'total_2025': 459720381,  # —Ç–µ–Ω–≥–µ (–±–µ–∑ —É—á—ë—Ç–∞ –ò–¢–û–ì–û —Å—Ç—Ä–æ–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –¥—É–±–ª–∏—Ä—É–µ—Ç)
    'recipients_count': 33,
    'by_type': {
        '–¢–û–û': 280000000,  # –æ—Ü–µ–Ω–æ—á–Ω–æ
        '–ö–•': 120000000,
        '–ü–ö': 40000000,
        '–ò–ü': 20000000
    }
}

@st.cache_data  
def load_crops_data():
    """–î–∞–Ω–Ω—ã–µ –ø–æ –ø–æ—Å–µ–≤–∞–º - –†–ï–ê–õ–¨–ù–´–ï –∏–∑ –ü–û–°–ï–í_–ê–†–®–ê–õ–´_—Ñ–∞–∫—Ç_2025.xlsx"""
    # –î–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞: –∏—Ç–æ–≥–æ–≤—ã–π –ª–∏—Å—Ç "20 –∏—é–Ω—è 2025 (–∏—Ç–æ–≥)"
    crops = pd.DataFrame({
        '–•–æ–∑—è–π—Å—Ç–≤–æ': ['–¢–û–û "–ï–Ω–±–µ–∫-1"', '–¢–û–û "Tamyr2024"', '–ü–ö "–ò–∂–µ–≤—Å–∫–∏–π"', '–¢–û–û "–¢–ù–°-–ê–≥—Ä–æ"',
                      '–¢–û–û "–°–∞—Ä—ã–æ–±–∞ –∞—Å—Ç—ã–∫"', '–¢–û–û "–ê–∫–±—É–ª–∞–∫ –ê–≥—Ä–æ"', '–¢–û–û –ü–ö–§ "–ê–≥—Ä–æ—Å–æ—é–∑"',
                      '–¢–û–û "–ù–∏–∫–æ–ª–∞–µ–≤—Å–∫–æ–µ"', '–¢–û–û "–ü–• –ê—Ä—à–∞–ª—ã"', '–¢–û–û "–ê–¥–∞–ª-–Ω–∏–µ—Ç"',
                      '–¢–û–û "–ö–æ–π–≥–µ–ª—å–¥—ã –∞—Å—Ç—ã–∫"', '–¢–û–û "–û–ª—å–≥–∏–Ω—Å–∫–æ–µ"', '–ö–• (–≤—Å–µ–≥–æ)'],
        '–ü–ª–∞–Ω_–≥–∞': [16892, 12968, 10295, 7522, 5700, 6500, 4838, 4180, 3866, 2861, 2800, 2000, 44036],
        '–§–∞–∫—Ç_–≥–∞': [19578, 14283, 11554, 8905, 7641, 6270, 4770, 4000, 650, 1640, 2700, 850, 53495],
        '–ü—à–µ–Ω–∏—Ü–∞_—Ñ–∞–∫—Ç': [19578, 12439, 7931, 8905, 7161, 6270, 4770, 3750, 0, 540, 2000, 0, 45800],
        '–Ø—á–º–µ–Ω—å_—Ñ–∞–∫—Ç': [0, 1844, 2778, 0, 480, 0, 0, 250, 0, 648, 700, 500, 5655],
        '–ì–æ—Ä–æ—Ö_—Ñ–∞–∫—Ç': [0, 0, 567, 0, 0, 0, 0, 0, 0, 452, 0, 0, 70],
        '–ú–∞—Å–ª–∏—á–Ω—ã–µ_—Ñ–∞–∫—Ç': [0, 6180, 449, 3900, 0, 0, 1830, 0, 0, 0, 0, 0, 568],
        '–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ_%': [115.9, 110.1, 112.2, 118.4, 134.1, 96.5, 98.6, 95.7, 16.8, 57.3, 96.4, 42.5, 121.5]
    })
    return crops

# –ò—Ç–æ–≥–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —Ä–∞–π–æ–Ω—É (–∏–∑ —Ñ–∞–π–ª–∞)
CROPS_TOTALS = {
    'plan_total': 173346,      # –ü–ª–∞–Ω –∑–µ—Ä–Ω–æ–≤—ã–µ –≤—Å–µ–≥–æ, –≥–∞
    'fact_total': 191868,      # –§–∞–∫—Ç –∑–µ—Ä–Ω–æ–≤—ã–µ –≤—Å–µ–≥–æ, –≥–∞
    'execution_pct': 110.7,    # % –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
    'wheat_plan': 148000,
    'wheat_fact': 163031,
    'barley_plan': 18299,
    'barley_fact': 21113,
    'oats_fact': 1029,
    'peas_plan': 2500,
    'peas_fact': 1309,
    'oilseeds_plan': 10000,
    'oilseeds_fact': 18662,
    'fodder_fact': 11795,
}

@st.cache_data
def load_processing_capacity():
    """–î–∞–Ω–Ω—ã–µ –æ –ø–µ—Ä–µ—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏—Ö –º–æ—â–Ω–æ—Å—Ç—è—Ö"""
    return pd.DataFrame({
        '–¢–∏–ø_–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏': ['–ú–µ–ª—å–Ω–∏—Ü—ã', '–≠–ª–µ–≤–∞—Ç–æ—Ä—ã', '–ú—è—Å–æ–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞', '–ú–æ–ª–æ–∫–æ–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞', 
                           '–•—Ä–∞–Ω–µ–Ω–∏–µ –æ–≤–æ—â–µ–π', '–ö–æ–º–±–∏–∫–æ—Ä–º–∞'],
        '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ': [2, 3, 1, 0, 2, 1],
        '–ú–æ—â–Ω–æ—Å—Ç—å': ['5000 —Ç/–≥–æ–¥', '150000 —Ç', '500 —Ç/–≥–æ–¥', '0', '2000 —Ç', '3000 —Ç/–≥–æ–¥'],
        '–ó–∞–≥—Ä—É–∑–∫–∞_%': [40, 65, 30, 0, 25, 50],
        '–°—Ç–∞—Ç—É—Å': ['–†–∞–±–æ—Ç–∞–µ—Ç', '–†–∞–±–æ—Ç–∞–µ—Ç', '–ß–∞—Å—Ç–∏—á–Ω–æ', '–ù–µ—Ç', '–°–µ–∑–æ–Ω–Ω–æ', '–†–∞–±–æ—Ç–∞–µ—Ç']
    })

@st.cache_data
def load_value_chain_flows():
    """–ü–æ—Ç–æ–∫–∏ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ - –û–¶–ï–ù–û–ß–ù–´–ï –î–ê–ù–ù–´–ï, —Ç—Ä–µ–±—É—é—Ç –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏!
    
    ‚ö†Ô∏è –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –ù–ï –∏–∑ —Ñ–∞–π–ª–æ–≤, –∞ —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏.
    –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:
    1. –û–ø—Ä–æ—Å –°–•–¢–ü —Ä–∞–π–æ–Ω–∞ –æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö —Å–±—ã—Ç–∞
    2. –î–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏—Ö –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–π
    3. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–≤–æ–∑–∞ –ø—Ä–æ–¥—É–∫—Ü–∏–∏
    """
    return pd.DataFrame({
        '–ü—Ä–æ–¥—É–∫—Ü–∏—è': ['–ó–µ—Ä–Ω–æ', '–ú—è—Å–æ –ö–†–°', '–ú–æ–ª–æ–∫–æ', '–û–≤–æ—â–∏', '–ö–æ—Ä–º–∞'],
        '–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ_—Ç': [180000, 2500, 8000, 1500, 15000],  # –û—Ü–µ–Ω–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ—Å–µ–≤–æ–≤
        '–ú–µ—Å—Ç–Ω–∞—è_–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞_%': [15, 20, 5, 30, 60],  # ‚ö†Ô∏è –û–¶–ï–ù–ö–ê
        '–í—ã–≤–æ–∑_–≤_–ê—Å—Ç–∞–Ω—É_%': [60, 50, 70, 50, 10],      # ‚ö†Ô∏è –û–¶–ï–ù–ö–ê
        '–í—ã–≤–æ–∑_–¥—Ä—É–≥–∏–µ_%': [25, 30, 25, 20, 30],        # ‚ö†Ô∏è –û–¶–ï–ù–ö–ê
        '–¶–µ–Ω–∞_–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è_—Ç–≥': [80000, 1500000, 200000, 150000, 50000],
        '–¶–µ–Ω–∞_–∫–æ–Ω–µ—á–Ω–∞—è_—Ç–≥': [250000, 3500000, 400000, 350000, 80000],
        '–ò—Å—Ç–æ—á–Ω–∏–∫': ['–û—Ü–µ–Ω–∫–∞'] * 5  # –ú–∞—Ä–∫–µ—Ä —á—Ç–æ —ç—Ç–æ –æ—Ü–µ–Ω–∫–∏
    })

# ==================== –§–£–ù–ö–¶–ò–ò –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–ò ====================

def create_sankey_diagram(flows_df):
    """–î–∏–∞–≥—Ä–∞–º–º–∞ –°–∞–Ω–∫–∏ –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤ –ø—Ä–æ–¥—É–∫—Ü–∏–∏"""
    labels = ['–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –ê—Ä—à–∞–ª—ã', '–ú–µ—Å—Ç–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞', '–í—ã–≤–æ–∑ –≤ –ê—Å—Ç–∞–Ω—É', 
              '–í—ã–≤–æ–∑ –¥—Ä—É–≥–∏–µ —Ä–µ–≥–∏–æ–Ω—ã', '–î–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å (–º–µ—Å—Ç–Ω–∞—è)', 
              '–î–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å (—É—Ç–µ—á–∫–∞)']
    
    source = [0, 0, 0, 1, 2, 3]
    target = [1, 2, 3, 4, 5, 5]
    
    # –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (–º–ª—Ä–¥ —Ç–µ–Ω–≥–µ)
    values = [3.2, 12.5, 5.8, 1.5, 8.0, 4.5]
    
    fig = go.Figure(data=[go.Sankey(
        node=dict(
            pad=15,
            thickness=20,
            line=dict(color="black", width=0.5),
            label=labels,
            color=["#2E86AB", "#28A745", "#FFC107", "#DC3545", "#28A745", "#DC3545"]
        ),
        link=dict(
            source=source,
            target=target,
            value=values,
            color=['rgba(46,134,171,0.4)', 'rgba(255,193,7,0.4)', 'rgba(220,53,69,0.4)',
                   'rgba(40,167,69,0.4)', 'rgba(220,53,69,0.4)', 'rgba(220,53,69,0.4)']
        )
    )])
    
    fig.update_layout(
        title_text="–ü–æ—Ç–æ–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ê–ü–ö –ê—Ä—à–∞–ª—ã–Ω—Å–∫–æ–≥–æ —Ä–∞–π–æ–Ω–∞",
        font_size=12,
        height=400
    )
    return fig

def create_localization_gauge(current_value, target_value, title):
    """–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä-—Å–ø–∏–¥–æ–º–µ—Ç—Ä –¥–ª—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏"""
    fig = go.Figure(go.Indicator(
        mode="gauge+number+delta",
        value=current_value,
        delta={'reference': target_value, 'relative': True},
        title={'text': title, 'font': {'size': 16}},
        gauge={
            'axis': {'range': [0, 100], 'tickwidth': 1, 'tickcolor': "darkblue"},
            'bar': {'color': "#2E86AB"},
            'bgcolor': "white",
            'borderwidth': 2,
            'bordercolor': "gray",
            'steps': [
                {'range': [0, 30], 'color': '#ffcdd2'},
                {'range': [30, 50], 'color': '#fff9c4'},
                {'range': [50, 100], 'color': '#c8e6c9'}
            ],
            'threshold': {
                'line': {'color': "red", 'width': 4},
                'thickness': 0.75,
                'value': target_value
            }
        }
    ))
    fig.update_layout(height=250, margin=dict(l=20, r=20, t=50, b=20))
    return fig

def create_subsidy_analysis(subsidies_df):
    """–ê–Ω–∞–ª–∏–∑ —Å—É–±—Å–∏–¥–∏–π"""
    fig = make_subplots(rows=1, cols=2, 
                        subplot_titles=('–ü–æ —Ç–∏–ø—É –ø–æ–ª—É—á–∞—Ç–µ–ª—è', '–ü–æ –ø—Ä–æ–≥—Ä–∞–º–º–µ'),
                        specs=[[{'type': 'pie'}, {'type': 'pie'}]])
    
    # –ü–æ —Ç–∏–ø—É
    by_type = subsidies_df.groupby('–¢–∏–ø')['–°—É–º–º–∞_—Ç–≥'].sum().reset_index()
    fig.add_trace(go.Pie(labels=by_type['–¢–∏–ø'], values=by_type['–°—É–º–º–∞_—Ç–≥'], 
                         name="–ü–æ —Ç–∏–ø—É", hole=0.4), row=1, col=1)
    
    # –ü–æ –ø—Ä–æ–≥—Ä–∞–º–º–µ
    by_program = subsidies_df.groupby('–ü—Ä–æ–≥—Ä–∞–º–º–∞')['–°—É–º–º–∞_—Ç–≥'].sum().reset_index()
    fig.add_trace(go.Pie(labels=by_program['–ü—Ä–æ–≥—Ä–∞–º–º–∞'], values=by_program['–°—É–º–º–∞_—Ç–≥'],
                         name="–ü–æ –ø—Ä–æ–≥—Ä–∞–º–º–µ", hole=0.4), row=1, col=2)
    
    fig.update_layout(height=350, showlegend=True)
    return fig

# ==================== –°–¢–†–ê–ù–ò–¶–´ ====================

def page_overview():
    """–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ - –æ–±–∑–æ—Ä"""
    st.markdown('<p class="main-header">üåæ –ê—Ä—à–∞–ª—ã–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω</p>', unsafe_allow_html=True)
    st.markdown('<p class="sub-header">–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏: Smart Governance –∏ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç</p>', unsafe_allow_html=True)
    
    profile = load_district_profile()
    
    # –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
    col1, col2, col3, col4 = st.columns(4)
    with col1:
        st.metric("üèòÔ∏è –ù–∞—Å–µ–ª–µ–Ω–∏–µ", f"{profile['population']:,} —á–µ–ª", "‚Üë 0.3%")
    with col2:
        st.metric("üöó –î–æ –ê—Å—Ç–∞–Ω—ã", f"{profile['distance_to_astana']} –∫–º", "–ö–ª—é—á–µ–≤–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ")
    with col3:
        st.metric("üå± –ü–∞—à–Ω—è", f"{profile['arable_land_ha']:,} –≥–∞", "238.5 —Ç—ã—Å. –≥–∞")
    with col4:
        st.metric("üè≠ –ü—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è", f"{profile['industrial_enterprises']}", "–ê–ü–ö + –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç—å")
    
    st.divider()
    
    # –î–≤–∞ —Å—Ç–æ–ª–±—Ü–∞: –∫–∞—Ä—Ç–∞ + –∫–ª—é—á–µ–≤–∞—è –ø—Ä–æ–±–ª–µ–º–∞
    col1, col2 = st.columns([1, 1])
    
    with col1:
        st.subheader("üìç –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ")
        st.info("""
        **–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ**: 71 –∫–º –¥–æ —Å—Ç–æ–ª–∏—Ü—ã
        
        –†–∞–π–æ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —É–Ω–∏–∫–∞–ª—å–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ –¥–ª—è:
        - –ü—Ä—è–º—ã—Ö –ø–æ—Å—Ç–∞–≤–æ–∫ –≤ –ê—Å—Ç–∞–Ω—É
        - –ö–æ—Ä–æ—Ç–∫–∏—Ö —Ü–µ–ø–æ—á–µ–∫ –ø–æ—Å—Ç–∞–≤–æ–∫
        - –ü—Ä–∏–≥–æ—Ä–æ–¥–Ω–æ–≥–æ –∞–≥—Ä–æ–±–∏–∑–Ω–µ—Å–∞
        - –ê–≥—Ä–æ—Ç—É—Ä–∏–∑–º–∞ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –¥–Ω—è
        """)
        
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–µ–º–µ–ª—å
        land_data = pd.DataFrame({
            '–¢–∏–ø': ['–ü–∞—à–Ω—è', '–ü–∞—Å—Ç–±–∏—â–∞', '–ü—Ä–æ—á–∏–µ —Å/—Ö —É–≥–æ–¥—å—è'],
            '–ü–ª–æ—â–∞–¥—å': [238500, 275300, 5600]
        })
        fig_land = px.pie(land_data, values='–ü–ª–æ—â–∞–¥—å', names='–¢–∏–ø', 
                         title='–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ–ª—å—Ö–æ–∑—É–≥–æ–¥–∏–π',
                         color_discrete_sequence=['#2E86AB', '#28A745', '#FFC107'])
        fig_land.update_layout(height=300)
        st.plotly_chart(fig_land, use_container_width=True)
    
    with col2:
        st.subheader("‚ö†Ô∏è –ö–ª—é—á–µ–≤–∞—è –ø—Ä–æ–±–ª–µ–º–∞")
        st.markdown("""
        <div class="warning-box">
        <h4>–£—Ç–µ—á–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏</h4>
        <p>–ê—Ä—à–∞–ª—ã–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π –æ–±—ä—ë–º –∞–≥—Ä–æ–ø—Ä–æ–¥—É–∫—Ü–∏–∏, –Ω–æ –±–æ–ª—å—à–∞—è —á–∞—Å—Ç—å 
        –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —Ä–∞–π–æ–Ω–∞:</p>
        <ul>
        <li>üåæ <b>~85% –∑–µ—Ä–Ω–∞</b> –≤—ã–≤–æ–∑–∏—Ç—Å—è –±–µ–∑ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏ *</li>
        <li>ü•© <b>~80% –º—è—Å–∞</b> –ø–µ—Ä–µ—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ –ê—Å—Ç–∞–Ω–µ/–æ–±–ª–∞—Å—Ç–∏ *</li>
        <li>ü•õ <b>~95% –º–æ–ª–æ–∫–∞</b> —É—Ö–æ–¥–∏—Ç –Ω–∞ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫—É –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Ä–∞–π–æ–Ω–∞ *</li>
        <li>üí∞ –§–µ—Ä–º–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç <b>~15-25%</b> –æ—Ç –∫–æ–Ω–µ—á–Ω–æ–π —Ü–µ–Ω—ã *</li>
        </ul>
        <div class="estimate-note">
        * <b>–û—Ü–µ–Ω–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</b> ‚Äî —Ç—Ä–µ–±—É—é—Ç –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –æ–ø—Ä–æ—Å –°–•–¢–ü —Ä–∞–π–æ–Ω–∞. 
        –ú–µ—Ç–æ–¥–∏–∫–∞ —Ä–∞—Å—á—ë—Ç–∞: (–û–±—ä—ë–º –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ - –û–±—ä—ë–º –º–µ—Å—Ç–Ω–æ–π –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏) / –û–±—ä—ë–º –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ √ó 100%
        </div>
        </div>
        """, unsafe_allow_html=True)
        
        # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–±–ª–µ–º—ã
        problem_data = pd.DataFrame({
            '–ü–æ–∫–∞–∑–∞—Ç–µ–ª—å': ['–î–æ–ª—è —Ñ–µ—Ä–º–µ—Ä–∞', '–ú–µ—Å—Ç–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞', '–¶–∏—Ñ—Ä–æ–≤–∏–∑–∞—Ü–∏—è', '–ö–æ–æ–ø–µ—Ä–∞—Ü–∏—è'],
            '–¢–µ–∫—É—â–µ–µ': [18, 15, 12, 20],
            '–¶–µ–ª–µ–≤–æ–µ': [35, 50, 60, 50]
        })
        
        fig_gap = go.Figure()
        fig_gap.add_trace(go.Bar(name='–¢–µ–∫—É—â–µ–µ %', x=problem_data['–ü–æ–∫–∞–∑–∞—Ç–µ–ª—å'], 
                                  y=problem_data['–¢–µ–∫—É—â–µ–µ'], marker_color='#DC3545'))
        fig_gap.add_trace(go.Bar(name='–¶–µ–ª–µ–≤–æ–µ %', x=problem_data['–ü–æ–∫–∞–∑–∞—Ç–µ–ª—å'], 
                                  y=problem_data['–¶–µ–ª–µ–≤–æ–µ'], marker_color='#28A745'))
        fig_gap.update_layout(barmode='group', height=300, title='Gap-–∞–Ω–∞–ª–∏–∑ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏')
        st.plotly_chart(fig_gap, use_container_width=True)

def page_value_chain():
    """–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–Ω–∞–ª–∏–∑–∞ —Ü–µ–ø–æ—á–µ–∫ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç–æ–∏–º–æ—Å—Ç–∏"""
    st.header("üîó –¶–µ–ø–æ—á–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç–æ–∏–º–æ—Å—Ç–∏")
    
    # –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ–± –∏—Å—Ç–æ—á–Ω–∏–∫–µ –¥–∞–Ω–Ω—ã—Ö
    st.warning("""
    ‚ö†Ô∏è **–î–∞–Ω–Ω—ã–µ –Ω–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Äî —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–µ –û–¶–ï–ù–ö–ò**, –Ω–µ –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.
    
    –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
    - –ü—Ä–æ–≤–µ—Å—Ç–∏ –æ–ø—Ä–æ—Å –°–•–¢–ü —Ä–∞–π–æ–Ω–∞ –æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö —Å–±—ã—Ç–∞ –ø—Ä–æ–¥—É–∫—Ü–∏–∏
    - –ó–∞–ø—Ä–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —É –ø–µ—Ä–µ—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏—Ö –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–π
    - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤—ã–≤–æ–∑–∞ –∏–∑ —Ä–∞–π–æ–Ω–∞ (–∞–∫–∏–º–∞—Ç, —Ç–∞–º–æ–∂–Ω—è)
    """)
    
    flows = load_value_chain_flows()
    
    # –°–∞–Ω–∫–∏ –¥–∏–∞–≥—Ä–∞–º–º–∞
    st.plotly_chart(create_sankey_diagram(flows), use_container_width=True)
    
    st.divider()
    
    col1, col2 = st.columns(2)
    
    with col1:
        st.subheader("üìä –ê–Ω–∞–ª–∏–∑ –ø–æ –ø—Ä–æ–¥—É–∫—Ç–∞–º")
        
        # –†–∞—Å—á—ë—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
        flows['–ö_–ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏'] = flows['–ú–µ—Å—Ç–Ω–∞—è_–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞_%'] + (flows['–í—ã–≤–æ–∑_–≤_–ê—Å—Ç–∞–Ω—É_%'] * 0.3)
        flows['–ü–æ—Ç–µ—Ä—è_—Å—Ç–æ–∏–º–æ—Å—Ç–∏_%'] = ((flows['–¶–µ–Ω–∞_–∫–æ–Ω–µ—á–Ω–∞—è_—Ç–≥'] - flows['–¶–µ–Ω–∞_–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è_—Ç–≥']) / 
                                        flows['–¶–µ–Ω–∞_–∫–æ–Ω–µ—á–Ω–∞—è_—Ç–≥'] * 100 * (1 - flows['–ú–µ—Å—Ç–Ω–∞—è_–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞_%']/100))
        
        fig = px.bar(flows, x='–ü—Ä–æ–¥—É–∫—Ü–∏—è', y=['–ú–µ—Å—Ç–Ω–∞—è_–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞_%', '–í—ã–≤–æ–∑_–≤_–ê—Å—Ç–∞–Ω—É_%', '–í—ã–≤–æ–∑_–¥—Ä—É–≥–∏–µ_%'],
                     title='–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º (%)',
                     barmode='stack',
                     color_discrete_sequence=['#28A745', '#FFC107', '#DC3545'])
        fig.update_layout(height=350)
        st.plotly_chart(fig, use_container_width=True)
    
    with col2:
        st.subheader("üí∞ –ü–æ—Ç–µ—Ä—è –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏")
        
        fig2 = px.bar(flows, x='–ü—Ä–æ–¥—É–∫—Ü–∏—è', y='–ü–æ—Ç–µ—Ä—è_—Å—Ç–æ–∏–º–æ—Å—Ç–∏_%',
                      title='–î–æ–ª—è —Å—Ç–æ–∏–º–æ—Å—Ç–∏, —É—Ö–æ–¥—è—â–∞—è –∏–∑ —Ä–∞–π–æ–Ω–∞ (%)',
                      color='–ü–æ—Ç–µ—Ä—è_—Å—Ç–æ–∏–º–æ—Å—Ç–∏_%',
                      color_continuous_scale=['#28A745', '#FFC107', '#DC3545'])
        fig2.update_layout(height=350)
        st.plotly_chart(fig2, use_container_width=True)
    
    # –î–µ—Ç–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞
    st.subheader("üìã –î–µ—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ")
    display_df = flows.copy()
    display_df['–¶–µ–Ω–∞_–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è'] = display_df['–¶–µ–Ω–∞_–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è_—Ç–≥'].apply(lambda x: f"{x:,.0f} ‚Ç∏")
    display_df['–¶–µ–Ω–∞_–∫–æ–Ω–µ—á–Ω–∞—è'] = display_df['–¶–µ–Ω–∞_–∫–æ–Ω–µ—á–Ω–∞—è_—Ç–≥'].apply(lambda x: f"{x:,.0f} ‚Ç∏")
    display_df['–ú–∞—Ä–∂–∞_–ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤'] = ((flows['–¶–µ–Ω–∞_–∫–æ–Ω–µ—á–Ω–∞—è_—Ç–≥'] - flows['–¶–µ–Ω–∞_–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è_—Ç–≥']) / 
                                        flows['–¶–µ–Ω–∞_–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è_—Ç–≥'] * 100).apply(lambda x: f"{x:.0f}%")
    
    st.dataframe(display_df[['–ü—Ä–æ–¥—É–∫—Ü–∏—è', '–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ_—Ç', '–¶–µ–Ω–∞_–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è', 
                             '–¶–µ–Ω–∞_–∫–æ–Ω–µ—á–Ω–∞—è', '–ú–∞—Ä–∂–∞_–ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤', '–ú–µ—Å—Ç–Ω–∞—è_–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞_%']], 
                 use_container_width=True)

def page_subsidies():
    """–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–Ω–∞–ª–∏–∑–∞ —Å—É–±—Å–∏–¥–∏–π"""
    st.header("üíµ –ê–Ω–∞–ª–∏–∑ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å—É–±—Å–∏–¥–∏–π")
    
    st.success("‚úÖ **–î–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞**: –ê—Ä—à–∞–ª—ã–Ω—Å–∫–∏–∏__2025_.xlsx")
    
    subsidies = load_subsidies_data()
    
    # –†–µ–∞–ª—å–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏–∑ —Ñ–∞–π–ª–∞
    col1, col2, col3 = st.columns(3)
    with col1:
        st.metric("–û–±—â–∏–π –æ–±—ä—ë–º —Å—É–±—Å–∏–¥–∏–π 2025", "459.7 –º–ª–Ω ‚Ç∏")
    with col2:
        st.metric("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π", "33")
    with col3:
        st.metric("–ö—Ä—É–ø–Ω–µ–π—à–∏–π –ø–æ–ª—É—á–∞—Ç–µ–ª—å", "–ê–ì–†–û –ü–†–ï–°–¢–ò–ñ –ú")
    
    st.divider()
    
    # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
    st.plotly_chart(create_subsidy_analysis(subsidies), use_container_width=True)
    
    col1, col2 = st.columns(2)
    
    with col1:
        st.subheader("üèÜ –¢–æ–ø-10 –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π")
        top10 = subsidies.nlargest(10, '–°—É–º–º–∞_—Ç–≥')
        fig = px.bar(top10, x='–°—É–º–º–∞_—Ç–≥', y='–ü–æ–ª—É—á–∞—Ç–µ–ª—å', orientation='h',
                     color='–ü—Ä–æ–≥—Ä–∞–º–º–∞',
                     title='–ö—Ä—É–ø–Ω–µ–π—à–∏–µ –ø–æ–ª—É—á–∞—Ç–µ–ª–∏ —Å—É–±—Å–∏–¥–∏–π')
        fig.update_layout(height=400, yaxis={'categoryorder':'total ascending'})
        st.plotly_chart(fig, use_container_width=True)
    
    with col2:
        st.subheader("üéØ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å—É–±—Å–∏–¥–∏—Ä–æ–≤–∞–Ω–∏—è")
        st.markdown("""
        <div class="insight-box">
        <h4>–í—ã–≤–æ–¥—ã –¥–ª—è Smart Governance:</h4>
        <ol>
        <li><b>–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è:</b> 70% —Å—É–±—Å–∏–¥–∏–π –ø–æ–ª—É—á–∞—é—Ç –∫—Ä—É–ø–Ω—ã–µ –¢–û–û</li>
        <li><b>–ü—Ä–æ–≥—Ä–∞–º–º—ã:</b> –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–µ —Å—É–±—Å–∏–¥–∏–∏ –ø—Ä–µ–æ–±–ª–∞–¥–∞—é—Ç</li>
        <li><b>Gap:</b> –ú–∞–ª–æ —Å—É–±—Å–∏–¥–∏–π –Ω–∞ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫—É –∏ –∫–æ–æ–ø–µ—Ä–∞—Ü–∏—é</li>
        </ol>
        <h4>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:</h4>
        <ul>
        <li>–£—Å–ª–æ–≤–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è —Å—É–±—Å–∏–¥–∏–π</li>
        <li>–ë–æ–Ω—É—Å—ã –∑–∞ —É—á–∞—Å—Ç–∏–µ –≤ –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–∞—Ö</li>
        <li>Data-driven –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</li>
        </ul>
        </div>
        """, unsafe_allow_html=True)

def page_crops():
    """–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–Ω–∞–ª–∏–∑–∞ –ø–æ—Å–µ–≤–æ–≤"""
    st.header("üåæ –ü–æ—Å–µ–≤–Ω—ã–µ –ø–ª–æ—â–∞–¥–∏ –∏ –∫—É–ª—å—Ç—É—Ä—ã")
    
    st.success("‚úÖ **–î–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞**: –ü–û–°–ï–í_–ê–†–®–ê–õ–´_—Ñ–∞–∫—Ç_2025.xlsx (–ª–∏—Å—Ç '20 –∏—é–Ω—è 2025 (–∏—Ç–æ–≥)')")
    
    crops = load_crops_data()
    
    # –†–µ–∞–ª—å–Ω—ã–µ –æ–±—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –∏–∑ —Ñ–∞–π–ª–∞
    col1, col2, col3, col4 = st.columns(4)
    with col1:
        st.metric("–ü–ª–∞–Ω –∑–µ—Ä–Ω–æ–≤—ã—Ö", "173 346 –≥–∞")
    with col2:
        st.metric("–§–∞–∫—Ç –ø–æ—Å–µ–≤–∞", "191 868 –≥–∞", "+10.7%")
    with col3:
        st.metric("–ü—à–µ–Ω–∏—Ü–∞ (—Ñ–∞–∫—Ç)", "163 031 –≥–∞", "85% –æ—Ç –≤—Å–µ—Ö")
    with col4:
        st.metric("–•–æ–∑—è–π—Å—Ç–≤ (–¢–û–û+–ö–•)", "50+", "–∏–∑ –Ω–∏—Ö –∫—Ä—É–ø–Ω—ã—Ö ~15")
    
    st.divider()
    
    col1, col2 = st.columns(2)
    
    with col1:
        st.subheader("üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ—Å–µ–≤–æ–≤ (—Ñ–∞–∫—Ç 2025)")
        
        # –†–µ–∞–ª—å–Ω—ã–µ —Å—É–º–º—ã –ø–æ –∫—É–ª—å—Ç—É—Ä–∞–º –∏–∑ —Ñ–∞–π–ª–∞
        culture_sums = {
            '–ü—à–µ–Ω–∏—Ü–∞': 163031,
            '–Ø—á–º–µ–Ω—å': 21113,
            '–ú–∞—Å–ª–∏—á–Ω—ã–µ': 18662,
            '–ö–æ—Ä–º–æ–≤—ã–µ': 11795,
            '–ì–æ—Ä–æ—Ö': 1309,
            '–û–≤—ë—Å': 1029
        }
        
        fig = px.pie(values=list(culture_sums.values()), 
                     names=list(culture_sums.keys()),
                     title='–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ—Å–µ–≤–Ω—ã—Ö –ø–ª–æ—â–∞–¥–µ–π (–≥–∞)',
                     color_discrete_sequence=px.colors.qualitative.Set2)
        fig.update_layout(height=350)
        st.plotly_chart(fig, use_container_width=True)
    
    with col2:
        st.subheader("üè¢ –¢–æ–ø —Ö–æ–∑—è–π—Å—Ç–≤ –ø–æ –ø–ª–æ—â–∞–¥–∏ (—Ñ–∞–∫—Ç)")
        
        # –£–±–∏—Ä–∞–µ–º –∏—Ç–æ–≥–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –ö–• –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞
        crops_for_chart = crops[crops['–•–æ–∑—è–π—Å—Ç–≤–æ'] != '–ö–• (–≤—Å–µ–≥–æ)'].copy()
        fig2 = px.bar(crops_for_chart.nlargest(10, '–§–∞–∫—Ç_–≥–∞'), 
                      x='–§–∞–∫—Ç_–≥–∞', y='–•–æ–∑—è–π—Å—Ç–≤–æ', orientation='h',
                      title='–ö—Ä—É–ø–Ω–µ–π—à–∏–µ –∑–µ–º–ª–µ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏',
                      color='–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ_%',
                      color_continuous_scale='RdYlGn',
                      range_color=[50, 150])
        fig2.update_layout(height=350, yaxis={'categoryorder':'total ascending'})
        st.plotly_chart(fig2, use_container_width=True)
    
    # –î–µ—Ç–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏
    st.subheader("üí° –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ –∫—É–ª—å—Ç—É—Ä–∞–º")
    
    potential = pd.DataFrame({
        '–ö—É–ª—å—Ç—É—Ä–∞': ['–ü—à–µ–Ω–∏—Ü–∞', '–Ø—á–º–µ–Ω—å', '–ú–∞—Å–ª–∏—á–Ω—ã–µ', '–ö–æ—Ä–º–æ–≤—ã–µ', '–ì–æ—Ä–æ—Ö'],
        '–ü–ª–æ—â–∞–¥—å_–≥–∞': [163031, 21113, 18662, 11795, 1309],
        '–¢–µ–∫—É—â–∞—è_–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞_%': ['~15% *', '~10% *', '~5% *', '~60% *', '~0% *'],
        '–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª_–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏': ['–ú—É–∫–∞, –º–∞–∫–∞—Ä–æ–Ω—ã, —Ö–ª–µ–±', '–ö—Ä—É–ø–∞, —Å–æ–ª–æ–¥, –∫–æ—Ä–º–∞', 
                                   '–ú–∞—Å–ª–æ, –∂–º—ã—Ö', '–ö–æ–º–±–∏–∫–æ—Ä–º–∞', '–ö–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è, –∑–∞–º–æ—Ä–æ–∑–∫–∞'],
        '–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏_–Ω—É–∂–Ω—ã_–º–ª–Ω': [500, 200, 300, 50, 150],
        '–î–æ–ø_—Ä–∞–±–æ—á–∏–µ_–º–µ—Å—Ç–∞': [50, 20, 30, 10, 15]
    })
    
    st.dataframe(potential, use_container_width=True)
    st.caption("* –û—Ü–µ–Ω–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ‚Äî —Ç—Ä–µ–±—É—é—Ç –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –æ–ø—Ä–æ—Å –ø–µ—Ä–µ—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏—Ö –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–π")

def page_smart_governance():
    """–°—Ç—Ä–∞–Ω–∏—Ü–∞ Smart Governance"""
    st.header("üñ•Ô∏è Smart Governance –¥–ª—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏")
    
    # –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
    st.subheader("üìà –¢–µ–∫—É—â–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏")
    
    col1, col2, col3 = st.columns(3)
    
    with col1:
        st.plotly_chart(create_localization_gauge(18, 35, "–î–æ–ª—è —Ñ–µ—Ä–º–µ—Ä–∞ –≤ —Ü–µ–Ω–µ (%)"), 
                       use_container_width=True)
    with col2:
        st.plotly_chart(create_localization_gauge(15, 50, "–ú–µ—Å—Ç–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ (%)"), 
                       use_container_width=True)
    with col3:
        st.plotly_chart(create_localization_gauge(12, 60, "–¶–∏—Ñ—Ä–æ–≤–∏–∑–∞—Ü–∏—è –ê–ü–ö (%)"), 
                       use_container_width=True)
    
    st.divider()
    
    # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Smart Governance
    st.subheader("üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Smart Governance —Å–∏—Å—Ç–µ–º—ã")
    
    col1, col2 = st.columns(2)
    
    with col1:
        st.markdown("""
        ### üìä 1. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–∞–Ω–Ω—ã—Ö
        
        **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –§—Ä–∞–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ Excel
        
        **–¶–µ–ª–µ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
        - üó∫Ô∏è –ì–µ–æ–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–≥–æ–¥–∏–π
        - üì° IoT-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å–µ–≤–æ–≤ (—Å–ø—É—Ç–Ω–∏–∫–∏ + –¥–∞—Ç—á–∏–∫–∏)
        - üíπ –†—ã–Ω–æ—á–Ω—ã–µ —Ü–µ–Ω—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
        - üìã –ï–¥–∏–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä –°–•–¢–ü —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π
        
        **–≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏:**
        - –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å —Ü–µ–ø–æ—á–µ–∫ —Å—Ç–æ–∏–º–æ—Å—Ç–∏
        - –í—ã—è–≤–ª–µ–Ω–∏–µ "—É–∑–∫–∏—Ö –º–µ—Å—Ç" 
        - –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π –≤ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫—É
        """)
        
        st.markdown("""
        ### ü§ù 2. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∫–æ–æ–ø–µ—Ä–∞—Ü–∏–∏
        
        **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –°–ª–∞–±–∞—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
        
        **–¶–µ–ª–µ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
        - üè™ –¶–∏—Ñ—Ä–æ–≤–æ–π –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤ "–ê—Ä—à–∞–ª—ã-–ê–≥—Ä–æ"
        - üì¶ –°–æ–≤–º–µ—Å—Ç–Ω–∞—è –ª–æ–≥–∏—Å—Ç–∏–∫–∞ –¥–æ –ê—Å—Ç–∞–Ω—ã
        - üè≠ –ö–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫—É
        - üìä –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π —É—á—ë—Ç –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏–±—ã–ª–∏
        
        **–≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏:**
        - –ú–∞—Å—à—Ç–∞–± –¥–ª—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏
        - –ü–µ—Ä–µ–≥–æ–≤–æ—Ä–Ω–∞—è —Å–∏–ª–∞ —Å –∑–∞–∫—É–ø—â–∏–∫–∞–º–∏
        - –û–±—â–∏–µ –±—Ä–µ–Ω–¥—ã
        """)
    
    with col2:
        st.markdown("""
        ### üéØ 3. Data-driven —Å—É–±—Å–∏–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
        
        **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –°—É–±—Å–∏–¥–∏–∏ –±–µ–∑ —É—Å–ª–æ–≤–∏–π –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
        
        **–¶–µ–ª–µ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
        - üìç –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –º–µ—Å—Ç–Ω–æ–π –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–µ
        - üìà KPI —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
        - üîÑ –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º
        - ü§ñ –ò–ò-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
        
        **–≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏:**
        - –°—Ç–∏–º—É–ª –∫ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–µ –Ω–∞ –º–µ—Å—Ç–µ
        - –ò–∑–º–µ—Ä–∏–º—ã–π —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç
        """)
        
        st.markdown("""
        ### üõí 4. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ "–ê—Ä—à–∞–ª—ã ‚Üí –ê—Å—Ç–∞–Ω–∞"
        
        **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ü–æ—Å—Ä–µ–¥–Ω–∏–∫–∏ –∑–∞–±–∏—Ä–∞—é—Ç –º–∞—Ä–∂—É
        
        **–¶–µ–ª–µ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
        - üöö B2B: –ø—Ä—è–º—ã–µ –ø–æ—Å—Ç–∞–≤–∫–∏ –≤ HoReCa –ê—Å—Ç–∞–Ω—ã
        - üõçÔ∏è B2C: "–§–µ—Ä–º–µ—Ä—Å–∫–∏–π —Ä—ã–Ω–æ–∫ –ê—Ä—à–∞–ª—ã" –æ–Ω–ª–∞–π–Ω
        - üì± –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ø—Ä–æ—Å–ª–µ–∂–∏–≤–∞–µ–º–æ—Å—Ç—å—é
        - üöú –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏—Å—Ç–∏–∫–∞ (71 –∫–º!)
        
        **–≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏:**
        - +15-20% –∫ —Ü–µ–Ω–µ —Ñ–µ—Ä–º–µ—Ä–∞
        - –ö–æ—Ä–æ—Ç–∫–∏–µ —Ü–µ–ø–æ—á–∫–∏
        - –ë—Ä–µ–Ω–¥ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏
        """)
    
    st.divider()
    
    # –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞
    st.subheader("üó∫Ô∏è –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è")
    
    roadmap = pd.DataFrame({
        '–≠—Ç–∞–ø': ['–ü–∏–ª–æ—Ç', '–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ', '–ó—Ä–µ–ª–æ—Å—Ç—å'],
        '–°—Ä–æ–∫': ['2026', '2027-2028', '2029-2030'],
        '–§–æ–∫—É—Å': ['–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–∞–Ω–Ω—ã—Ö + 1 –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤', 
                  '–í—Å–µ –°–•–¢–ü + –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞', 
                  '–ü–æ–ª–Ω–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ Smart Governance'],
        '–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏_–º–ª–Ω_—Ç–≥': [50, 300, 500],
        '–û–∂–∏–¥–∞–µ–º—ã–π_–ö_–ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏_%': [25, 40, 55]
    })
    
    fig = px.timeline(
        pd.DataFrame({
            '–≠—Ç–∞–ø': ['–ü–∏–ª–æ—Ç', '–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ', '–ó—Ä–µ–ª–æ—Å—Ç—å'],
            '–ù–∞—á–∞–ª–æ': ['2026-01-01', '2027-01-01', '2029-01-01'],
            '–ö–æ–Ω–µ—Ü': ['2026-12-31', '2028-12-31', '2030-12-31'],
            '–ö_–ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏': [25, 40, 55]
        }),
        x_start='–ù–∞—á–∞–ª–æ', x_end='–ö–æ–Ω–µ—Ü', y='–≠—Ç–∞–ø',
        color='–ö_–ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏',
        title='–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞: —Ä–æ—Å—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏'
    )
    fig.update_layout(height=250)
    st.plotly_chart(fig, use_container_width=True)
    
    st.dataframe(roadmap, use_container_width=True)

def page_recommendations():
    """–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π"""
    st.header("üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –°–µ–Ω–∞—Ç–∞")
    
    tab1, tab2, tab3 = st.tabs(["üèõÔ∏è –î–ª—è –°–µ–Ω–∞—Ç–∞/–ú–°–•", "üè¢ –î–ª—è –ê–∫–∏–º–∞—Ç–∞", "üåæ –î–ª—è —Ñ–µ—Ä–º–µ—Ä–æ–≤"])
    
    with tab1:
        st.markdown("""
        ## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –°–µ–Ω–∞—Ç–∞ –ü–∞—Ä–ª–∞–º–µ–Ω—Ç–∞ –†–ö –∏ –ú–°–•
        
        ### 1. –ù–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
        
        | –ú–µ—Ä–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç |
        |------|----------|------------------|
        | **–£—Å–ª–æ–≤–Ω—ã–µ —Å—É–±—Å–∏–¥–∏–∏** | –ü—Ä–∏–≤—è–∑–∫–∞ —á–∞—Å—Ç–∏ —Å—É–±—Å–∏–¥–∏–π –∫ —É—Å–ª–æ–≤–∏—é –º–µ—Å—Ç–Ω–æ–π –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏ (‚â•30%) | +15% –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ |
        | **–°—Ç–∞–Ω–¥–∞—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –ê–ü–ö** | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Ü–∏—Ñ—Ä–æ–≤–æ–π —É—á—ë—Ç –¥–ª—è –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –≥–æ—Å–ø–æ–¥–¥–µ—Ä–∂–∫–∏ | –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å —Ü–µ–ø–æ—á–µ–∫ |
        | **–ö–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ –ª—å–≥–æ—Ç—ã** | –ù–∞–ª–æ–≥–æ–≤—ã–µ –ø—Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ –¥–ª—è –∞–≥—Ä–æ–∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–æ–≤ | –†–æ—Å—Ç –∫–æ–æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ 50% |
        
        ### 2. –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞
        
        - üè≠ **–ü—Ä–æ–≥—Ä–∞–º–º–∞ "–ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –º–µ—Å—Ç–µ"**: –°—É–±—Å–∏–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ 50% —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–µ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –¥–ª—è –ø—Ä–∏–≥–æ—Ä–æ–¥–Ω—ã—Ö —Ä–∞–π–æ–Ω–æ–≤
        - üåê **–¶–∏—Ñ—Ä–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: –û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ 100% –ø–æ–∫—Ä—ã—Ç–∏—è —Å–µ–ª—å—Å–∫–∏—Ö —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–π —à–∏—Ä–æ–∫–æ–ø–æ–ª–æ—Å–Ω—ã–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º
        - üìä **–ü–∏–ª–æ—Ç–Ω—ã–π –ø—Ä–æ–µ–∫—Ç Smart Governance**: –ê—Ä—à–∞–ª—ã–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω –∫–∞–∫ –º–æ–¥–µ–ª—å–Ω–∞—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è
        
        ### 3. –ò–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
        
        - –°–æ–∑–¥–∞–Ω–∏–µ **–ê–≥–µ–Ω—Ç—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö –ê–ü–ö** –ø—Ä–∏ –ú–°–•
        - –í–∫–ª—é—á–µ–Ω–∏–µ **–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏** –≤ —Å–∏—Å—Ç–µ–º—É –æ—Ü–µ–Ω–∫–∏ –∞–∫–∏–º–æ–≤
        - –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ **–º–µ—Ç–æ–¥–∏–∫–∏ —Ä–∞—Å—á—ë—Ç–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∞–ª—å–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞** —Å—É–±—Å–∏–¥–∏–π
        """)
    
    with tab2:
        st.markdown("""
        ## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ê–∫–∏–º–∞—Ç–∞ –ê—Ä—à–∞–ª—ã–Ω—Å–∫–æ–≥–æ —Ä–∞–π–æ–Ω–∞
        
        ### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (2026)
        
        1. **–°–æ–∑–¥–∞–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ —Ä–µ–µ—Å—Ç—Ä–∞ –°–•–¢–ü**
           - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
           - –ì–µ–æ–ø—Ä–∏–≤—è–∑–∫–∞ –∑–µ–º–µ–ª—å–Ω—ã—Ö —É—á–∞—Å—Ç–∫–æ–≤
           - –û—Ç–∫—Ä—ã—Ç—ã–π –¥–∞—à–±–æ—Ä–¥ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
        
        2. **–ó–∞–ø—É—Å–∫ –ø–∏–ª–æ—Ç–Ω–æ–≥–æ –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–∞ "–ê—Ä—à–∞–ª—ã-–ê–≥—Ä–æ"**
           - –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ 10-15 —Ö–æ–∑—è–π—Å—Ç–≤
           - –°–æ–≤–º–µ—Å—Ç–Ω–∞—è –ª–æ–≥–∏—Å—Ç–∏–∫–∞ –≤ –ê—Å—Ç–∞–Ω—É
           - –¶–∏—Ñ—Ä–æ–≤–æ–π —É—á—ë—Ç –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
        
        3. **–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ "–ü—Ä–æ–¥—É–∫—Ç—ã –ê—Ä—à–∞–ª—ã"**
           - –ë—Ä–µ–Ω–¥ –º–µ—Å—Ç–Ω–æ–π –ø—Ä–æ–¥—É–∫—Ü–∏–∏
           - –î–æ–≥–æ–≤–æ—Ä—ã —Å HoReCa –ê—Å—Ç–∞–Ω—ã
           - –ü—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞—Ö
        
        ### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (2027-2028)
        
        1. **–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫—É**
           - –ú–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏—è –º–µ–ª—å–Ω–∏—Ü (–∑–∞–≥—Ä—É–∑–∫–∞ —Å 40% –¥–æ 80%)
           - –ú–∏–Ω–∏-—Ü–µ—Ö –º–æ–ª–æ–∫–æ–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏
           - –£–±–æ–π–Ω—ã–π —Ü–µ—Ö —Å —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–æ–º
        
        2. **Smart Village –ø–∏–ª–æ—Ç**
           - IoT-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ 5 —Ö–æ–∑—è–π—Å—Ç–≤–∞—Ö
           - –ê–≥—Ä–æ–º–µ—Ç–µ–æ—Å—Ç–∞–Ω—Ü–∏–∏
           - –ü—Ä–æ–≥–Ω–æ–∑–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ —É—Ä–æ–∂–∞–π–Ω–æ—Å—Ç–∏
        """)
    
    with tab3:
        st.markdown("""
        ## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —à–∞–≥–∏ –¥–ª—è —Ñ–µ—Ä–º–µ—Ä–æ–≤
        
        ### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
        
        ‚úÖ **–¶–∏—Ñ—Ä–æ–≤–æ–π —É—á—ë—Ç**: –ü–µ—Ä–µ–π—Ç–∏ —Å –±—É–º–∞–≥–∏ –Ω–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π —É—á—ë—Ç (–¥–∞–∂–µ Excel ‚Äî —ç—Ç–æ –Ω–∞—á–∞–ª–æ)
        
        ‚úÖ **–ö–æ–æ–ø–µ—Ä–∞—Ü–∏—è**: –û–±—ä–µ–¥–∏–Ω–∏—Ç—å—Å—è —Å —Å–æ—Å–µ–¥—è–º–∏ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–Ω—ã—Ö –∑–∞–∫—É–ø–æ–∫ –∏ –ø—Ä–æ–¥–∞–∂
        
        ‚úÖ **–ü—Ä—è–º—ã–µ –∫–∞–Ω–∞–ª—ã**: –ù–∞–π—Ç–∏ 2-3 –ø—Ä—è–º—ã—Ö –ø–æ–∫—É–ø–∞—Ç–µ–ª—è –≤ –ê—Å—Ç–∞–Ω–µ (—Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã, –º–∞–≥–∞–∑–∏–Ω—ã)
        
        ‚úÖ **–ö–∞—á–µ—Å—Ç–≤–æ –∏ –ø—Ä–æ—Å–ª–µ–∂–∏–≤–∞–µ–º–æ—Å—Ç—å**: –§–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ü–∏–∏
        
        ### –ß—Ç–æ —ç—Ç–æ –¥–∞—ë—Ç?
        
        | –î–µ–π—Å—Ç–≤–∏–µ | –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è —Ñ–µ—Ä–º–µ—Ä–∞ |
        |----------|-------------------|
        | –ü—Ä—è–º—ã–µ –ø—Ä–æ–¥–∞–∂–∏ –≤ –ê—Å—Ç–∞–Ω—É | +15-25% –∫ —Ü–µ–Ω–µ |
        | –£—á–∞—Å—Ç–∏–µ –≤ –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–µ | -20% –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –ª–æ–≥–∏—Å—Ç–∏–∫—É |
        | –¶–∏—Ñ—Ä–æ–≤–æ–π —É—á—ë—Ç | –î–æ—Å—Ç—É–ø –∫ –∫—Ä–µ–¥–∏—Ç–∞–º –∏ —Å—É–±—Å–∏–¥–∏—è–º |
        | –ú–µ—Å—Ç–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ | +30-50% –∫ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ |
        
        ### –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏
        
        - üìû –ê–∫–∏–º–∞—Ç —Ä–∞–π–æ–Ω–∞: (–æ—Ç–¥–µ–ª —Å/—Ö)
        - üåê –ü–æ—Ä—Ç–∞–ª —Å—É–±—Å–∏–¥–∏–π: qoldau.kz
        - ü§ù –ü–∞–ª–∞—Ç–∞ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª–µ–π: –ê—Ç–∞–º–µ–∫–µ–Ω
        """)

# ==================== –ù–ê–í–ò–ì–ê–¶–ò–Ø ====================

def main():
    st.sidebar.image("https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Flag_of_Kazakhstan.svg/1200px-Flag_of_Kazakhstan.svg.png", width=100)
    st.sidebar.title("üìç –ù–∞–≤–∏–≥–∞—Ü–∏—è")
    
    pages = {
        "üè† –û–±–∑–æ—Ä": page_overview,
        "üîó –¶–µ–ø–æ—á–∫–∏ —Å—Ç–æ–∏–º–æ—Å—Ç–∏": page_value_chain,
        "üíµ –°—É–±—Å–∏–¥–∏–∏": page_subsidies,
        "üåæ –ü–æ—Å–µ–≤—ã": page_crops,
        "üñ•Ô∏è Smart Governance": page_smart_governance,
        "üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏": page_recommendations
    }
    
    selection = st.sidebar.radio("–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª:", list(pages.keys()))
    
    # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ
    st.sidebar.divider()
    st.sidebar.info("""
    **V –ø–æ—Ç–æ–∫ ¬´–¢–∞–ª–¥–∞—É –º–µ–∫—Ç–µ–±—ñ¬ª**
    
    –¢–µ–º–∞: SMART GOVERNANCE
    
    –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ê–≥—Ä–æ–ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç—å –∏ —É—Å—Ç–æ–π—á–∏–≤–æ–µ —Å–µ–ª—å—Å–∫–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ
    
    –ö–µ–π—Å: –ê—Ä—à–∞–ª—ã–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω
    """)
    
    st.sidebar.divider()
    st.sidebar.caption("¬© 2026 –®–∫–æ–ª–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ø—Ä–∏ –°–µ–Ω–∞—Ç–µ –†–ö")
    
    # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    pages[selection]()

if __name__ == "__main__":
    main()
